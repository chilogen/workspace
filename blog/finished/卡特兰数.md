#卡特兰数

* [折线证明法](http://blog.sina.com.cn/s/blog_6917f47301010cno.html)
	* 设一跳折线从（0,0）点开始，x坐标每加1，定义两种操作：  
	操作一：折线扩展方向是斜向上45<sup>。</sup>  
	操作二：折线扩展方向是斜向下45<sup>。</sup>
	
	* 卡特兰数可以抽象为一个关于栈的问题： 
	`设进行n次入栈和n次出栈操作，求有多少种进出栈的组合方式`  
	将操作一类比于入栈操作，操作二类比于出栈操作，由栈的特性可得：在x<sub>1</sub>次操作二之前，必须有x<sub>2</sub>次操作一，x<sub>2</sub>>=x<sub>1</sub>。
	
	* 因此，折现的终点应该在（2n,0）处，所以问题求解可以转化为求起点为（0,0），终点为（2n,0）的折线数目。
	![](/home/a/workspace/blog/linked/卡特兰数_图一.jpg) 
	* 首先，从2n次操作中选取n次操作一和n次操作二的个数为C(2n,n)。将这一总数减去不合法的折线总数就能得到最终答案。
	
	* 画图观察，每一条不合法的折线，也就是穿过了x轴的折线，必经过y=-1。以y=-1为对称轴，将不合法的折线对折，可以  
	发现最终的终点一定是(2n,-2)。于是，不合法的折线就是(n+1)次操作一和(n-1)次操作二的组合，个数为:  
	C(2n,n-1)=C(2n,n+1)。
	![](/home/a/workspace/blog/linked/卡特兰数_图二.jpg) 
	* 所以，卡特兰数的公式为：C(2n,n)-C(2n,n+1)或C(2n,n)-C(2n,n-1)。