# 可持久化字典树

#### `trie1.cpp`

> 给定两种操作，一是往原序列末尾增加一个数，二是查询区间l到r内与x异或值最大的数
>
> 异或值最大可以通过字典树贪心实现，区间则需要通过可持久化结构进行维护
>
> 假设为序列的每一位保存一颗字典树，字典树保存由1到该位的所有数，增添一个数字就是添加一棵树。因为一个数字在字典树中对应一条链，所以除了这条链之外的部分都可以与前一位的字典树共用，同时字典树每一个节点存着该节点子树下但单词总数
>
> 查询区间l到r，可以通过两个指针p1,p2在(l-1)和(r)两颗字典树上跳跃，当贪心需要往某一分支转移时，需要确定该分支中存的数是在l之前的或是l到r之间的，这时可以通过节点上保存的单词总数确定，如果1->r的单词数大于1->l-1的单词数，则说明l到r之间存在一个数满足该分支，则往最优分支转移，否则往相反方向转移

