# 树链剖分

link-cut-tree-B.cpp	树链剖分解LCA，不用线段树



> 使用区间数据结构维护树上的值

* 支持操作：
  * 查询树上两点之间的信息
  * 更新树上两点之间的信息
* 算法过程：
  * 第一遍dfs找出重边
  * 第二遍dfs给节点编号
  * 使用新编号在区间数据结构中维护
* 主要变量：
  * 第一遍dfs：
    * **x**节点对应的下一重边节点**son[x]**
    * **x**节点对应的树上深度**dep[x]**
    * **x**节点对应的子树节点数（包括自己）**size[x]**
    * **x**节点对应的父亲节点**fat[x]**
  * 第二遍dfs：
    * **x**节点对应的新编号**idx[x]**

